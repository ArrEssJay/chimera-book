% ==============================================================================
% COLORED BOXES & ENVIRONMENTS
% ==============================================================================
\usepackage{tcolorbox}
\tcbuselibrary{skins,breakable}

% Base style for all colored boxes
\tcbset{
  enhanced,
  breakable,
  boxrule=1pt,
  sharp corners,
  left=8pt, right=8pt, top=6pt, bottom=6pt,
  toptitle=3pt, bottomtitle=3pt,
  fontupper=\dinfont, fontlower=\dinfont,
  fonttitle=\dinfont\bfseries,
}

% Style for breakable boxes with continuation indicators
\tcbset{
    breakable with indicators/.style={
        overlay first={
            \draw[black!40, densely dotted, line width=0.6pt]
            ([xshift=5pt]frame.south west) -- ([xshift=-5pt]frame.south east);
        },
        overlay middle={
            \draw[black!40, densely dotted, line width=0.6pt]
            ([xshift=5pt]frame.north west) -- ([xshift=-5pt]frame.north east);
            \draw[black!40, densely dotted, line width=0.6pt]
            ([xshift=5pt]frame.south west) -- ([xshift=-5pt]frame.south east);
        },
        overlay last={
            \draw[black!40, densely dotted, line width=0.6pt]
            ([xshift=5pt]frame.north west) -- ([xshift=-5pt]frame.north east);
        }
    }
}

% Key Concept Box (Pantone 2985 C - Academic Blue)
\newtcolorbox{keyconcept}[1][]{
  colback=pantone2985!10!white,
  colframe=pantone2985!85!black,
  title=Key Concept,
  style=breakable with indicators,
  #1
}

% Important Box (Pantone 1375 C - Safety Orange)
\newtcolorbox{importantbox}[1][]{
  colback=pantone1375!10!white,
  colframe=pantone1375!85!black,
  title=Further Reading,
  style=breakable with indicators,
  #1
}

% Warning Box (Pantone 186 C - Alert Red)
\newtcolorbox{warningbox}[1][]{
  colback=pantone186!10!white,
  colframe=pantone186!85!black,
  title=Warning,
  style=breakable with indicators,
  #1
}

% Callout Box (Pantone Cool Gray 3 C - Neutral)
\newtcolorbox{calloutbox}[1][]{
  colback=pantonecg3!10!white,
  colframe=pantonecg3!85!black,
  style=breakable with indicators,
  #1
}

% Non-Technical Summary Box (Pantone 375 C - Fresh Green)
\newtcolorbox{nontechnical}[1][]{
  colback=pantone375!10!white,
  colframe=pantone375!85!black,
  title=Non-Technical Summary,
  style=breakable with indicators,
  #1
}

% Worked Example Box (Pantone 116 C - Academic Yellow)
\newtcolorbox{workedexample}[1]{
  colback=pantone116!10!white,
  colframe=pantone116!85!black,
  title=Worked Example: #1,
  style=breakable with indicators
}
